# Cursor Rules v1 – Adobe Creative Automation PoC
# Scope: Implement steel thread only. No feature creep.

project:
  goals:
    - "Implement CLI steel thread: brief → (reuse/gen) hero → compose → outputs + manifest."
    - "Satisfy acceptance criteria defined in ./adobe-example-concise/use-case.adobe-creative-automation.concise.yaml"
  constraints:
    - "Timebox: 8h total. Cut scope before cutting quality."
    - "Local FS only. No DB or external infra beyond image gen adapter."
    - "Prefer pure functions. Keep adapters thin and isolated."

ground_truth:
  - "./adobe-example-concise/use-case.adobe-creative-automation.concise.yaml"
  - "./lean-clean-playbook.schema.yaml"
  - "./use-case-spec.schema.yaml"
  - "./README-validator.md"
  - "./docs/adobe-creative-automation-poc-deck.md"

style:
  - "Clean Architecture: core domain code must not import from adapters."
  - "Write small modules (<200 lines) with clear interfaces."
  - "Add docstrings with input/output summary."
  - "Use pathlib, no hardcoded OS-specific paths."

testing:
  - "Expose a deterministic CLI path for tests."
  - "Add at least one acceptance-style test mapping the YAML spec to file assertions."

commands:
  build: "uv sync"
  run: "uv run python -m app.cli run --brief ./campaigns/brief.yaml"
  test: "uv run pytest -q"
  validate_spec: "make validate-use-case"

review_checklist:
  - "[ ] Acceptance criteria satisfied"
  - "[ ] Outputs written to ./out/{product}/{ratio}/"
  - "[ ] manifest.json includes inputs/outputs and timestamps"
  - "[ ] Code respects adapter boundaries"
